version: 2

models:
  - name: raw_cadastro_comercio_ambulantes_autorizacao
    description: "Dados da Autorização e do titular correspondente do comércio ambulante. Origem: dbo.vw_autorizacao_datalake."
    config:
      alias: cadastro_comercio_ambulantes_autorizacao
      materialized: view
    columns:
      - name: id_autorizacao_titular
        description: "Identificador interno da autorização do Titular"
        datatype: Integer
        data_tests:     
          - unique:
              name: raw_cadastro_comercio_ambulantes_autorizacao__id_autorizacao_titular__unique
              severity: warn
          - not_null:
              name: raw_cadastro_comercio_ambulantes_autorizacao__id_autorizacao_titular__not_null
              severity: warn
      - name: numero_inscricao_municipal
        description: "Número da Inscrição Municipal (e da Autorização ) do Titular da Autorização"
        datatype: String
      - name: tipo_pessoa
        description: "Pessoa Fisica (F) ou Juridica (J)"
        datatype: String
      - name: cpf_titular
        description: "Número do CPF do Titular da Autorização"
        datatype: String
      - name: nome_titular_autorizacao
        description: "Nome do Titular da Autorização"
        datatype: String
      - name: situacao_inscricao_municipal
        description: "Situação da Inscrição Municipal do Titular da Autorização, podendo ser: PENDENTE, CANCELADO ou ATIVO"
        datatype: String
      - name: data_concessao
        description: "Data que Autorização foi concedida"
        datatype: Datetime
      - name: data_cancelamento
        description: "Data que Autorização foi cancelada"
        datatype: Datetime
      - name: endereco_corporativo_codigo_logradouro_ponto
        description: "Código do Logradouro (Corporativo) do endereço do ponto do Titular da Autorização"
        datatype: String
      - name: endereco_corporativo_logradouro_ponto
        description: "Logradouro (Corporativo) do endereço do ponto do Titular da Autorização"
        datatype: String
      - name: endereco_corporativo_referencia_ponto
        description: "Referência do ponto do Titular da Autorização, exemplo: Em frente, esquina, no entorno, perto de etc"
        datatype: String
      - name: endereco_corporativo_numero_porta_ponto
        description: "Número da porta do endereço do Ponto do Titular da Autorização"
        datatype: String
      - name: endereco_corporativo_complemento_ponto
        description: "Complemento  do endereço do Ponto do Titular da Autorização"
        datatype: String
      - name: endereco_corporativo_codigo_bairro_ponto
        description: "Código do Bairro (Corporativo)  do endereço do Ponto do Titular da Autorização"
        datatype: String
      - name: endereco_corporativo_bairro_ponto
        description: "Nome do Bairro do endereço do Ponto do Titular da Autorização"
        datatype: String
      - name: nome_equipamento_autorizado
        description: "Equipamento autorizado para utilização"
        datatype: String
      - name: indicador_autorizacao_permanente
        description: "Autorização Permanente (S) ou Temporária (N) - Ex: Autorizações concedidas para trabalhar durante o Carnaval"
        datatype: String
      - name: numero_processo_concessao
        description: "Número do Processo Administrativo que contém o deferimento para o Titular da autorização trabalhar no comércio ambulante"
        datatype: String
      - name: numero_interno_agrupamento_concessao
        description: "Agrupamento interno do sistema para conceder as Autorizações" 
        datatype: String
      - name: loaded_at
        description: "Data de carregamento dos dados"
        datatype: datetime
      - name: transformed_at
        description: "Data de transformação dos dados"
        datatype: datetime
    