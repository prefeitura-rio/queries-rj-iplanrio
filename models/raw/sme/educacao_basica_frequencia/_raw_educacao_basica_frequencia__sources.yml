version: 2

sources:
  - name: sme_brutos_educacao_basica_frequencia_staging_airbyte
    database: rj-iplanrio
    schema: brutos_gestao_escolar_staging
    tables:
      - name: ACA_AlunoJustificativaFalta
      - name: ACA_TipoJustificativaFalta
      - name: ACA_FormatoAvaliacao
      - name: ACA_CalendarioPeriodo
      - name: ACA_CurriculoPeriodo
      - name: ACA_CalendarioAnual

    config:
      freshness: # default freshness
        error_after: {count: 24, period: hour}
      loaded_at_field: _airbyte_extracted_at

  - name: sme_brutos_educacao_basica_frequencia_staging_prefect
    database: rj-iplanrio
    schema: brutos_gestao_escolar_staging
    tables:
      - name: TUR_TurmaRelTurmaDisciplina
      - name: CLS_TurmaAulaAluno
      - name: numeroDeAulasCte
      - name: diasCoc
      - name: turma

    config:
      freshness: # default freshness
        error_after: {count: 24, period: hour}
      loaded_at_field: CAST(_prefect_extracted_at AS TIMESTAMP)