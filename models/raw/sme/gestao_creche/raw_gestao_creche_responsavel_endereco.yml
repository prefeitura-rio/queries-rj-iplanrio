version: 2

models:
  - name: raw_gestao_creche_responsavel_endereco
    description: "Relaciona os responsáveis de uma criança e suas informações de endereo e contato."
    columns:
      - name: identificador_processo_matricula
        description: "FK da tabela inscricao_responsavel - (Parte da chave composta)"
        data_type: int64
        data_tests:
          - not_null:
              name: raw_gestao_creche_responsavel_endereco__identificador_processo_matricula__not_null
              severity: error

      - name: identificador_polo_matricula
        description: "FK da tabela inscricao_responsavel - (Parte da chave composta)"
        data_type: int64
        data_tests:
          - not_null:
              name: raw_gestao_creche_responsavel_endereco__identificador_polo_matricula__not_null
              severity: error

      - name: identificador_inscricao_polo
        description: "FK da tabela inscricao_responsavel - (Parte da chave composta)"
        data_type: int64
        data_tests:
          - not_null:
              name: raw_gestao_creche_responsavel_endereco__identificador_inscricao_polo__not_null
              severity: error

      - name: identificador_responsavel
        description: "FK da tabela inscricao_responsavel - (Parte da chave composta)"
        data_type: int64
        data_tests:
          - not_null:
              name: raw_gestao_creche_responsavel_endereco__identificador_responsavel__not_null
              severity: error        

      - name: identificador_endereco
        description: "Identificador único de endereço"
        data_type: int64

      - name: numero
        description: "Número da residência"
        data_type: string     
        data_tests:
          - not_null:
              name: raw_gestao_creche_responsavel_endereco__numero__not_null
              severity: error             

      - name: complemento
        description: "Complemento do endereço"
        data_type: string

      - name: telefone_domiciliar
        description: "Número de telefone domiciiar"
        data_type: string

      - name: telefone_trabalho
        description: "Número de telefone de trabalho do responsável"
        data_type: string

      - name: telefone_celular
        description: "Número de telefone celular do responsável"
        data_type: string

      - name: telefone_recado
        description: "Número de telefone de recado"
        data_type: string        

      - name: situacao
        description: "Situação do endereço"
        data_type: int64
        data_tests:
          - not_null:
              name: raw_gestao_creche_responsavel_endereco__situacao__not_null
              severity: error  

      - name: data_criacao
        description: "Data de criação do registro na base de dados"
        data_type: datetime
        data_tests:
          - not_null:
              name: raw_gestao_creche_responsavel_endereco__data_criacao__not_null
              severity: error

      - name: data_alteracao
        description: "Data de alteração do registro na base de dados"
        data_type: datetime
        data_tests:
          - not_null:
              name: raw_gestao_creche_responsavel_endereco__data_alteracao__not_null
              severity: error

      - name: loaded_at
        description: "Timestamp de quando o dado foi extraído do banco de dados de origem."
        data_type: timestamp

      - name: transformed_at
        description: "Timestamp de quando o dado foi transformado no dbt."
        data_type: timestamp