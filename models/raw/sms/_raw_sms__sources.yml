version: 2

sources:
  - name: rj-sms
    database: rj-sms
    schema: saude_historico_clinico
    config:
      freshness: # default freshness
        warn_after: {count: 24, period: hour}
        error_after: {count: 48, period: hour}
    loaded_at_field: metadados.processed_at
    tables:
    - name: paciente
    - name: episodio_assistencial
  
  - name: rj-sms-dados-mestres
    database: rj-sms
    schema: saude_dados_mestres
    tables:
    - name: estabelecimento

  - name: brutos_plataforma_subpav
    database: rj-sms
    schema: brutos_plataforma_subpav
    config:
      freshness: # default freshness
        warn_after: {count: 24, period: hour}
        error_after: {count: 48, period: hour}
    loaded_at_field: metadados.processed_at
    tables:
    - name: unidades

  - name: rj-sms-projeto-whatsapp
    database: rj-sms
    schema: projeto_whatsapp
    tables:
    - name: telefones_validos