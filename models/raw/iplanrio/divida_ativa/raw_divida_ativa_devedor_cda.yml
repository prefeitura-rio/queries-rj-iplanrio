version: 2

models:
  - name: raw_divida_ativa_devedor_cda
    description: "Tabela que contém os registros que vinculam os contribuintes com as certidões de dívida ativa - CDAs. Para efeito de identificação do devedor principal, considera-se o tipo de vínculo 'P'. Pode haver mais de um devedor principal para uma mesma CDA."
    columns:
      - name: id_certidao_divida_ativa
        description: "Identificador da certidão de dívida ativa (CDA) vinculada ao devedor."
        data_type: int64
        data_tests:
          - not_null:
              name: raw_divida_ativa_devedor_cda__id_certidao_divida_ativa__not_null
              config:
                severity: error
      - name: id_pessoa
        description: "Identificador da pessoa vinculada à CDA."
        data_type: int64
        data_tests:
          - not_null:
              name: raw_divida_ativa_devedor_cda__id_pessoa__not_null
              config:
                severity: error
      - name: data_criacao_registro
        description: "Data hora da situação do vínculo do devedor com a CDA."
        data_type: datetime
      - name: codigo_tipo_vinculo
        description: "Código do tipo de vínculo do devedor com a CDA ('P' para Principal, 'D' para Destinatário de correspondências, outros para demais vínculos)."
        data_type: string
      - name: nome_tipo_vinculo
        description: "Nome do tipo de vínculo do devedor com a CDA."
        data_type: string
      - name: loaded_at
        description: "Timestamp de quando o dado foi extraído do banco de dados de origem."
        data_type: timestamp
      - name: transformed_at
        description: "Timestamp de quando o dado foi transformado no dbt."
        data_type: timestamp