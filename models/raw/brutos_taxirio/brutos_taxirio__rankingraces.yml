version: 2
models:
  - name: brutos_taxirio__rankingraces
    config:   
      schema: brutos_taxirio
      alias: rankingraces
      materialized: table
      tags: ['raw', 'taxirio', 'rankingraces']
      partition_by={
        field: data_criacao
        data_type: date
        granularity: hour
      }
      description: "Tabela de Ranking das Corridas"
    columns:
      - name: ano_particao
        description: "Parte da data de criação da corrida (Ano)"
      - name: mes_particao
        description: "Parte da data de criação da corrida (Mês)"
      - name: dia_particao
        description: "Parte da data de criação da corrida (Dia)"
      - name: data_criacao
        description: "Data de criação da corrida"
      - name: data_atualizacao
        description: "Data de atualização da corrida"
      - name: id_ranking_corrida
        description: "Identificador do ranking da corrida"
        data_type: string
        data_tests:
        - not_null
        - unique
      - name: id_corrida
        description: "Identificador da corrida"
        data_type: string
      - name: competidores
        description: "Competidores da corrida"
        data_type: json
      - name: data_particao
        description: "Data de partição"
        data_type: date
  