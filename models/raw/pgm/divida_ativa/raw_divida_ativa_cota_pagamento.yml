version: 2

models:
  - name: raw_divida_ativa_cota_pagamento
    description: "Tabela que contém os registros das cotas referentes às parcelas das guias de pagamentos geradas para parcelamento de dívidas. Uma guia de pagamento pode relacionar mais de uma CDA. Cotas de parcelamento que tenham sido substituídas por novas, devem ser desconsideradas em cálculos de totais e irão constar na tabela cota_pagamento_associado."
    columns:
      - name: id_guia_pagamento
        description: "Identificador da guia de pagamento."
        data_type: int64
        data_tests:
          - not_null:
              name: raw_divida_ativa_cota_pagamento__id_guia_pagamento__not_null
              severity: error
      - name: id_cota_guia_pagamento
        description: "Identificador da cota (parcela) da guia de pagamento."
        data_type: int64
        data_tests:
          - not_null:
              name: raw_divida_ativa_cota_pagamento__id_cota_guia_pagamento__not_null
              severity: error
      - name: cota_substituida
        description: "Indica se a cota foi substituída por outra (true/false). No caso de sustituição, a cota original deve ser desconsiderada para efeito de cálculos."
        data_type: boolean
      - name: valor_cota_guia_pagamento
        description: "Valor total da cota da guia de pagamento."
        data_type: numeric
      - name: data_vencimento
        description: "Data de vencimento da cota."
        data_type: date
      - name: situacao_pagamento_cota
        description: "Código da situação do pagamento da cota."
        data_type: int64
      - name: descricao_situacao_pagamento_cota
        description: "Descrição da situação do pagamento da cota (Em aberto, Paga, etc)."
        data_type: string
      - name: valor_principal
        description: "Valor principal da cota."
        data_type: numeric
      - name: valor_honorarios
        description: "Valor dos honorários da cota."
        data_type: numeric
      - name: valor_juros
        description: "Valor dos juros da cota."
        data_type: numeric
      - name: valor_grerj
        description: "Valor GRERJ da cota."
        data_type: numeric
      - name: valor_juros_principal
        description: "Valor dos juros sobre o principal."
        data_type: numeric
      - name: valor_juros_honorarios
        description: "Valor dos juros sobre os honorários."
        data_type: numeric
      - name: observacoes
        description: "Observações sobre a cota."
        data_type: string
      - name: data_emissao
        description: "Data de emissão da cota."
        data_type: date
      - name: data_pagamento
        description: "Data do pagamento da cota."
        data_type: date
      - name: valor_principal_pago
        description: "Valor principal pago."
        data_type: numeric
      - name: valor_juros_pago
        description: "Valor dos juros pagos."
        data_type: numeric
      - name: valor_honorarios_pago
        description: "Valor dos honorários pagos."
        data_type: numeric
      - name: valor_grerj_pago
        description: "Valor GRERJ pago."
        data_type: numeric
      - name: valor_juros_honorarios_pago
        description: "Valor dos juros sobre honorários pagos."
        data_type: numeric
      - name: ano_ipcae
        description: "Ano de referência do IPCA-E utilizado."
        data_type: int64
      - name: loaded_at
        description: "Timestamp de quando o dado foi extraído do banco de dados de origem."
        data_type: timestamp
      - name: transformed_at
        description: "Timestamp de quando o dado foi transformado no dbt."
        data_type: timestamp