version: 2

models:
  - name: raw_osinfo_rh__tb_vinculo_trabalho
    description: "Vínculos de trabalho de funcionários, detalhando seus contratos, como admissão, cargo e jornada."
    columns:
      - name: vinculo_codigo
        description: "Código do vínculo de trabalho"
        datatype: integer
      - name: funcionario_cpf
        description: "CPF do funcionário"
        datatype: int64
      - name: vinculo_ativo
        description: "Indicador de vínculo ativo"
        datatype: string
      - name: organizacao_social_codigo
        description: "Código da organização social"
        datatype: string
      - name: organizacao_social_cnpj
        description: "CNPJ da organização social"
        datatype: string
      - name: cbo_codigo
        description: "Código CBO"
        datatype: string
      - name: registro_profissional_numero
        description: "Número do registro profissional"
        datatype: string
      - name: conselho_sigla
        description: "Sigla do conselho profissional"
        datatype: string
      - name: conselho_uf_ibge
        description: "Código IBGE da UF do conselho"
        datatype: string
      - name: id_categoria
        description: "ID da categoria"
        datatype: integer
        data_tests:
          - relationships:
              name: raw_osinfo_rh__tb_vinculo_trabalho__id_categoria__relationships
              to: ref('raw_osinfo_osinfo__categoria')
              field: id_categoria
              severity: error
      - name: vinculo_setor
        description: "Setor do vínculo"
        datatype: string
      - name: tipo_vinculacao_codigo
        description: "Código do tipo de vinculação"
        datatype: integer
      - name: carga_horaria
        description: "Carga horária"
        datatype: float64
      - name: vinculo_inicio_data
        description: "Data de início do vínculo"
        datatype: date
      - name: vinculo_encerramento_data
        description: "Data de encerramento do vínculo"
        datatype: date
      - name: endereco_codigo
        description: "Código do endereço"
        datatype: integer
      - name: email
        description: "Email do funcionário"
        datatype: string
      - name: cnes_codigo
        description: "Código CNES"
        datatype: string
      - name: cargo_descricao
        description: "Descrição do cargo"
        datatype: string
      - name: telefone_numero
        description: "Número do telefone"
        datatype: string
      - name: datalake_loaded_at
        description: "Data de quando o dado foi extraído do banco de dados de origem do OSINFO."
        data_type: datetime
      - name: datalake_transformed_at
        description: "Data de quando o dado foi transformado no dbt."
        data_type: datetime
