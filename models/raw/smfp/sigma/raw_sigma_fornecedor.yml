version: 2

models:
  - name: raw_sigma_fornecedor
    description: "Cadastro de Fornecedores de bens e serviços."
    config:
      alias: fornecedor
    columns:
      - name: cpf_cnpj
        description: "CPF/CNPJ do fornecedor."
        data_type: string
        quote: true
        # data_tests:
        #   - not_null:
        #       name: raw_sigma_fornecedor__cpf_cnpj__not_null
        #   - unique:
        #       name: raw_sigma_fornecedor__cpf_cnpj__unique
          # - dbt_expectations.expect_column_values_to_match_regex_list:
          #     name: raw_sigma_fornecedor__cpf_cnpj__matches_cpf_or_cnpj
          #     regex_list:
          #       - '^[0-9]{11}$'
          #       - '^[0-9]{14}$'
      - name: tipo_fornecedor
        description: "Caracter que indica se o documento do fornecedor é o CPF (F) , CNPJ (J) ou Estrangeiro (E)."
        data_type: string
        quote: true
      - name: inscricao_municipal
        description: "Inscrição municipal do fornecedor."
        data_type: string
        quote: true
      - name: inscricao_estadual
        description: "Inscrição estadual do fornecedor."
        data_type: bigdecimal
      - name: razao_social
        description: "Razão social ou nome do fornecedor."
        data_type: string
        quote: true
      - name: nome_fantasia
        description: "Nome de fantasia do fornecedor caso seja uma Pessoa Jurídica."
        data_type: string
        quote: true
      - name: nome_contato
        description: "Nome da pessoa de contato no fornecedor."
        data_type: string
        quote: true
      - name: email
        description: "Correio eletrônico da empresa ou da pessoa física"
        data_type: string
        quote: true
        # data_tests:
        #   - dbt_expectations.expect_column_values_to_match_regex:
        #       name: raw_sigma_fornecedor__email__valid_format
        #       regex: '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$'
      - name: email_contato
        description: "Correio eletrônico da pessoa de contato no fornecedor."
        data_type: string
        quote: true
      - name: fax_fornecedor
        description: "Fax do fornecedor."
        data_type: bigdecimal
      - name: ddd
        description: "DDD do telefone do fornecedor."
        data_type: DECIMAL
      - name: ddi
        description: "DDI do telefone do fornecedor."
        data_type: DECIMAL
      - name: ramal
        description: "Número do ramal do telefone do fornecedor."
        data_type: DECIMAL
      - name: telefone
        description: "Número de telefone do fornecedor."
        data_type: bigdecimal
      - name: logradouro
        description: "Código do logradouro do endereço do fornecedor."
        data_type: string
        quote: true
      - name: numero_porta
        description: "Número de porta do endereço do fornecedor."
        data_type: numeric
      - name: complemento_endereco
        description: "Complemento do endereço do fornecedor."
        data_type: string
        quote: true
      - name: bairro
        description: "Bairro onde fica o endereço do fornecedor."
        data_type: string
        quote: true
      - name: municipio
        description: "Município onde fica o endereço do fornecedor."
        data_type: string
        quote: true
      - name: uf
        description: "Código da unidade da federação onde fica o endereço do fornecedor."
        data_type: string
        quote: true
      - name: cep
        description: "CEP do endereço do fornecedor."
        data_type: DECIMAL
      - name: status_fornecedor
        description: "Status do fornecedor (ativo/inativo/bloqueado)"
        data_type: string
        quote: true
      - name: codigo_natureza_juridica
        description: "Código da natureza jurídica do fornecedor, encontrado no CNPJ"
        data_type: DECIMAL
      - name: descricao_natureza_juridica
        description: "Descrição da natureza jurídica do fornecedor. Quais são???
                     FIRMA INDIVIDUAL, SOC LIMITADA, SOC ANONIMA  COOPERATIVA, SOC EM NOME COLETIVO, 
                     SOC EM COMANDITA SIMPLES, SOC DE CAPITAL E INDUSTRIAL, SOC EM COMANDITA POR ACO, 
                     SOC DE ECONOMIA MISTA, FUNDACAO DE DIREITO PRIVADO, SOC CIVIL, EMPRESA ESTRANGEIRA, 
                     PESSOA FÍSICA,INSTITUICAO PUBLICA, ORGAO PUBLICO, SOC CIVIL SEM FINS LUCRATIVO,  
                     ORGANIZACAO NAO GOVERNAMENTAL, SOC EMPRESARIA LIMITADA, SOC EMPRESARIA EM COMANDO, 
                     SOC SIMPLES, SOC SIMPLES LIMITADA, SOC SIMPLES EM NOME COLETIVA, SOC SIMPLES EM 
                     COMANDITA, EMPRESA PUBLICA (MRJ), SOC DE ECONOMIA MISTA (MRJ), FUNDACAO MUNICIPAL 
                     (MRJ), AUTARQUIA MUNICIPAL (MRJ), ORGAO PUBL. PODER EXECUT. MUNI ,  ORGAO PUBLICO 
                     AUTONOMO MUNICIPAL, PESSOA FISICA - AUTONOMO NAO LOCALIZADO, SERVICO SOCIAL 
                     AUTONOMO , CONSORCIO DE SOCS, OUTRAS FORMAS DE ASSOCIACAO, ASSOCIACAO PRIVADA, 
                     CONDOMINIO EDILICIO, AUTARQUIA FEDERAL, ORGANISMOS INTERNACIONAIS,  FUNDACAO 
                     PUBLICA DE DIREITO PUBLICO,  MUNICIPIO (EXCETO MRJ), SERVIÇO SOCIAL AUTONOMO"
        data_type: string
        quote: true
      - name: codigo_ramo_atividade
        description: "Código do ramo de atividade do fornecedor."
        data_type: DECIMAL
      - name: descricao_ramo_atividade
        description: "Descrição do ramo de atividade. Quais são? INDUSTRIA, COMERCIO, PRESTACAO DE SERVICO, INDUSTRIA E COMERCIO, INDUSTRIA E 
        PRESTACAO SERVICO, COMERCIO E PRESTACAO SERVICO, IND.COM.E PRESTACAO DE SERVICO, EMPREITEIRO, REGISTRO EMP. NAO CADASTRADA, RAMO INICIAL, 
        FUNDACAO PRIVADA E ASSOCIACAO"
        data_type: string
        quote: true
      - name: codigo_porte_fornecedor
        description: "Código do porte do fornecedor como empresa. Valido apenas para fornecedor com TIPO_CPF_CNPJ = 'J'. Quais são?? 01 – MICROEMPRESA,03 - EMPRESA DE PEQUENO PORTE e 05 - DEMAIS"
        data_type: DECIMAL
      - name: descricao_porte_fornecedor
        description: "Descrição do porte do fornecedor. Valido apenas para fornecedor com TIPO_CPF_CNPJ = 'J'"
        data_type: string
        quote: true
      - name: data_ultima_atualizacao
        description: "Data da última alteração do registro"
        data_type: DECIMAL
      - name: tipo_cadastro_fornecedor
        description: "EVENTUAL – pessoa física ou jurídica que transaciona com a Municipalidade, sem que tenha se submetido ao processo formal de cadastramento, mas que para efeito de empenhamento e liquidação de despesa necessita constar do cadastro de favorecidos do Sistema de Contabilidade e Execução Orçamentária. FORMAL - O cadastro da pessoa física ou jurídica passou pelo processo formal de cadastramento e recebeu um certificado. SEM VINCULO - Fornecedores que não possuem Inscrição Estadual nem Inscrição Municipal criados para pagamento a restituição, indenização, carta de crédito, aquisição de imóvel e desapropriação."
        data_type: string
        quote: true 