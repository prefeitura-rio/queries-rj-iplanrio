version: 2

models:
  - name: raw_recursos_humanos_ergon__ficha_financeira
    description: "**Descrição**: Valores de rubricas de fichas financeiras dos funcionários da COMLURB. Constam fichas desde o início do ERGON COMLURB. Uma ficha financeira é um resumo do contracheque do servidor.\n**Frequência de atualização**: Mensal\n**Cobertura temporal**: Até data corrente\n**Órgão gestor dos dados**: SMFP/SUBGCC/CGRH\n**Publicado por**: Anderson Ferraz Carneiro\n**Publicado por (email)**: nao.informado@gmail.com\n"
    config:
      alias: raw_recursos_humanos_ergon__ficha_financeira
      schema: raw
      materialized: view
    columns:
      - name: data_folha
        description: Mês e ano da folha da ficha financeira.
        data_type: date
      - name: numero_folha
        description: Número da folha da ficha financeira.
        data_type: integer
      - name: id_funcionario
        description: Número do funcionário gerado pelo ERGON.
        data_type: integer
        data_tests:
          - not_null:
              name: raw_recursos_humanos_ergon__ficha_financeira__id_funcionario__not_null
              severity: error
      - name: id_vinculo
        description: Número do vínculo relativo ao pagamento.
        data_type: integer
        data_tests:
          - not_null:
              name: raw_recursos_humanos_ergon__ficha_financeira__id_vinculo__not_null
              severity: error
      - name: numero_pensionista
        description: Número do pensionista, caso o pagamento seja relativo a um pensionista.
        data_type: integer
      - name: data_pagamento
        description: Mês e ano trabalhado relativo ao pagamento.
        data_type: date
      - name: rubrica
        description: Rubrica da despesa. Caso o funcionário receba em rubricas diferentes haverá mais de um registro nesta visão.
        data_type: string
        quote: true
      - name: tipo_rubrica
        description: Tipo de rubrica. Ex, Auxiliar, consignatária, desconto ou vantagem.
        data_type: string
        quote: true
      - name: desconto
        description: Booleana que indica se a rubrica é de desconto ou não. 1 quando tem desconto e 2 quando não tem desconto.
        data_type: boolean
      - name: complemento_rubrica
        description: Informações adicionais para descrever a rubrica.
        data_type: string
        quote: true
      - name: valor_rubrica
        description: Valor referente à rubrica.
        data_type: numeric
      - name: correcao
        description: Valor da correção monetária.
        data_type: numeric
      - name: id_empresa
        description: Código da empresa.
        data_type: integer
